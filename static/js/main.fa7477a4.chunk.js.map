{"version":3,"sources":["img/logo.svg","components/shared/api/api.yaml","components/shared/TopBar.js","components/shared/ValidationError.js","components/drop/Header/ApiKeyContainer.js","components/drop/Header/DropTopBar.js","components/drop/Body/DragAndDropTitle.js","components/drop/Body/DropArea/DragAndDropContainer.js","components/drop/Body/ResultSection/ResultSectionTableRow.js","components/drop/Body/ResultSection/ResultSectionTable.js","components/drop/Body/ResultSection/ResultSectionContentsHeader.js","components/drop/Body/ResultSection/ResultSectionContents.js","components/drop/Body/ResultSection/ResultSection.js","components/shared/LoadingIndicator.js","components/shared/api/engineApi.js","components/Helpers/FileDropEventHandler.js","components/drop/Body/DropAndDropBody.js","components/drop/DropApp.js","components/swagger/fileTypeDetectionSwag.js","index.js"],"names":["module","exports","TopBar","onApiKeyChange","apiKey","usePublicKey","togglePublicKey","className","src","logo","alt","height","ValidationError","props","errorMessage","ApiKeyContainer","setApiKey","setUsePublicKey","useState","validationError","setValidationError","type","placeholder","onInput","event","target","value","disabled","CSSTransition","in","timeout","classNames","unmountOnExit","checked","DropTopBar","DragAndDropTitle","DragAndDropContainer","drag","setDrag","dragCounter","setDragCounter","handleDrag","e","preventDefault","stopPropagation","handleDragIn","dataTransfer","items","length","handleDragOut","handleDrop","files","clearData","dropRef","React","createRef","useEffect","div","current","addEventListener","removeEventListener","ref","children","ResultSectionTableRow","truncated","fileName","fileExtension","fileType","fileSize","substring","content","ResultSectionTable","results","cellSpacing","cellPadding","map","result","index","key","ResultSectionHeader","ResultSectionContents","ResultSectionContentsHeader","ResultSection","filesProcessed","enter","exit","LoadingIndicator","loading","engineApi","file","data","FormData","append","console","log","fetch","urlPrefix","method","body","headers","zipHelper","blob","zip","JSZip","Promise","resolve","reject","loadAsync","then","loadedZip","fileRefs","Object","values","zipFileReaders","Array","from","forEach","zf","a","dir","push","async","name","all","FileDropService","setResults","setFilesProcessed","setLoading","zipUnpackingTasks","fileTypeDetectionCalls","getFileTypeAsync","extension","handleBlob","response","responseToJson","json","getResultFromDeserialised","status","deserialised","toLowerCase","split","pop","zipHandleTask","zippedFiles","error","zt","responses","DropAndDropBody","DropApp","FileTypeDetectionSwag","interval","setInterval","button","document","querySelector","click","clearInterval","url","window","location","origin","yam","docExpansion","defaultModelExpandDepth","ReactDOM","render","basename","path","getElementById"],"mappings":"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","file":"static/js/main.fa7477a4.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.f2df34b5.svg\";","module.exports = __webpack_public_path__ + \"static/media/api.980d9789.yaml\";","import React from \"react\";\r\nimport TopBarNavigation from \"./TopBarNavigation\";\r\nimport logo from \"../../img/logo.svg\";\r\n\r\nvar TopBar = ({ onApiKeyChange, apiKey, usePublicKey, togglePublicKey }) => {\r\n    return (\r\n        <div className=\"app-header\">\r\n            {/* <TopBarNavigation />\r\n            <div className=\"logo\" tabIndex=\"1\" ></div> */}\r\n            <div className=\"logo\"><img src={logo} alt=\"Logo\" height=\"90\" /></div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default TopBar;","import React from \"react\";\r\n\r\nfunction ValidationError(props) {\r\n\r\n    return (\r\n        <span className=\"input-validation validation-popup\">\r\n            {props.errorMessage}\r\n        </span>\r\n    );\r\n}\r\n\r\nexport default ValidationError;","import React, { useState } from \"react\";\r\nimport ValidationError from \"../../shared/ValidationError\";\r\nimport { CSSTransition } from 'react-transition-group';\r\n\r\nvar ApiKeyContainer = ({ apiKey, setApiKey, usePublicKey, setUsePublicKey }) => {\r\n  var [validationError, setValidationError] = useState(\"\");\r\n\r\n  var onChange = event => {\r\n    if (event.target.value === \"\") {\r\n      setValidationError(\"You must provide a key.\");\r\n    }\r\n    else {\r\n      setValidationError(\"\");\r\n    }\r\n\r\n    setApiKey(event.target.value);\r\n  }\r\n\r\n  var onToggle = () => {\r\n    if (!usePublicKey)\r\n      setValidationError(\"\");\r\n    \r\n    setUsePublicKey(!usePublicKey);\r\n  }\r\n  \r\n  return (\r\n        <div className=\"api-key-wrapper\">\r\n          <input className=\"api-key-input\" type=\"text\" placeholder=\"Api Key\" onInput={onChange} value={apiKey} disabled={usePublicKey}/>\r\n            <CSSTransition in={validationError !== \"\"} timeout={300} classNames=\"validation\" unmountOnExit>\r\n              <ValidationError errorMessage={validationError} /> \r\n            </CSSTransition>\r\n          <label>\r\n            <input className=\"use-public-api-key-input\" type=\"checkbox\" onInput={onToggle} checked={usePublicKey}/> \r\n            Use Public Key (Rate Limited)\r\n          </label>\r\n          </div>\r\n    );\r\n}\r\n\r\nexport default ApiKeyContainer;","import React from \"react\";\r\nimport logo from \"../../../img/logo.svg\";\r\n\r\nimport ApiKeyContainer from \"./ApiKeyContainer\";\r\n\r\nvar DropTopBar = (props) => {\r\n    return (\r\n        <div className=\"app-header\">\r\n            {/* <TopBarNavigation />\r\n            <div className=\"logo\" tabIndex=\"1\" ></div> */}\r\n            <div className=\"logo\"><img src={logo} alt=\"Logo\" height=\"90\" /></div>\r\n            <ApiKeyContainer {...props} />\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default DropTopBar;","import React from \"react\";\r\n\r\nvar DragAndDropTitle = () => {\r\n    return <h1>Drag and drop files to determine their file type. Files in Zip's will be determined separately.</h1>;\r\n}\r\n\r\nexport default DragAndDropTitle;","import React, { useState, useEffect } from 'react'\r\n\r\nfunction DragAndDropContainer(props) {\r\n  var [drag, setDrag] = useState(false);\r\n  var [dragCounter, setDragCounter] = useState(false);\r\n\r\n  var handleDrag = (e) => {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n  };\r\n\r\n  var handleDragIn = (e) => {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n    setDragCounter(dragCounter++);\r\n    if (e.dataTransfer.items && e.dataTransfer.items.length > 0) {\r\n      setDrag(true);\r\n    }\r\n  };\r\n\r\n  var handleDragOut = (e) => {\r\n    e.preventDefault()\r\n    e.stopPropagation()\r\n    setDragCounter(dragCounter--);\r\n    if (dragCounter === 0) {\r\n      setDrag(false);\r\n    }\r\n  }\r\n  var handleDrop = (e) => {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n    setDrag(false);\r\n    if (e.dataTransfer.files && e.dataTransfer.files.length > 0) {\r\n      props.handleDrop(e.dataTransfer.files)\r\n      try {\r\n      e.dataTransfer.clearData()\r\n      } \r\n      catch \r\n      {\r\n\r\n      }\r\n      setDragCounter(0);\r\n    }\r\n  }\r\n  \r\n  var dropRef = React.createRef();\r\n  useEffect(() => {\r\n    let div = dropRef.current\r\n    div.addEventListener('dragenter', handleDragIn)\r\n    div.addEventListener('dragleave', handleDragOut)\r\n    div.addEventListener('dragover', handleDrag)\r\n    div.addEventListener('drop', handleDrop)\r\n    return () => {\r\n    div.removeEventListener('dragenter', handleDragIn)\r\n    div.removeEventListener('dragleave', handleDragOut)\r\n    div.removeEventListener('dragover', handleDrag)\r\n    div.removeEventListener('drop', handleDrop)\r\n  };\r\n}, []);\r\n    return (\r\n      <div className=\"drop-border\" ref={dropRef}>\r\n        {\r\n          drag && <div className=\"drop-border-dragging\"/>\r\n        }\r\n        {props.children}\r\n      </div>\r\n    );\r\n}\r\nexport default DragAndDropContainer;","import React from 'react';\r\nimport Tippy from '@tippy.js/react';\r\nimport 'tippy.js/dist/tippy.css';\r\n\r\nfunction ResultSectionTableRow({ fileName, fileExtension, fileType, fileSize }) {\r\n\r\n  const truncatLength = 40;\r\n  var truncated;\r\n  if (fileName.length > truncatLength)\r\n  {\r\n    truncated = fileName.substring(0, truncatLength);\r\n  }\r\n  else\r\n  {\r\n    truncated = fileName;\r\n  }\r\n\r\n  return (\r\n          <tr className={fileExtension !== fileType ? \"type-danger\" : \"\"}>\r\n            <Tippy content={fileName}>\r\n            <td>{fileName === truncated ? fileName : `${truncated}...${fileExtension}`}</td>\r\n            </Tippy>\r\n            <td>{fileExtension}</td>\r\n            <td>{fileType}</td>\r\n            <td>{fileSize}</td>\r\n          </tr>\r\n  );\r\n}\r\n\r\nexport default ResultSectionTableRow;","import React from \"react\";\r\nimport ResultSectionTableRow from \"./ResultSectionTableRow\";\r\n\r\nvar ResultSectionTable = ({results}) => {\r\n    return (\r\n        <table cellSpacing=\"0\" cellPadding=\"0\">\r\n        <thead>\r\n            <tr className=\"header-row\">\r\n            <th>File Name</th>\r\n            <th>Declared File Type</th>\r\n            <th>Actual File Type</th>\r\n            <th>File Size</th>\r\n            </tr>\r\n        </thead>\r\n        <tbody>\r\n            {results && results.map((result, index) => <ResultSectionTableRow key={`result-${index}`} {...result} />)}\r\n        </tbody>\r\n        </table>\r\n    );\r\n}\r\n\r\nexport default ResultSectionTable;","import React from \"react\";\r\n\r\nvar ResultSectionHeader = () => {\r\n    return <h1 className=\"table-header\">File Attributes</h1>\r\n}\r\n\r\nexport default ResultSectionHeader;","import React from \"react\";\r\n\r\nimport ResultSectionTable from \"./ResultSectionTable\";\r\nimport ResultSectionContentsHeader from \"./ResultSectionContentsHeader\";\r\n\r\nvar ResultSectionContents = ({ results }) => {\r\n    return (\r\n      <div className=\"file-attributes table-container\">\r\n        <ResultSectionContentsHeader />\r\n        <ResultSectionTable results={results} />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  export default ResultSectionContents;","import React from \"react\";\r\nimport { CSSTransition } from \"react-transition-group\";\r\nimport ResultSectionContents from \"./ResultSectionContents\";\r\n\r\n var ResultSection = ({ results, filesProcessed }) => {\r\n  return (\r\n    <CSSTransition in={filesProcessed} timeout={{ enter: 500, exit: 500 }} classNames=\"results\">\r\n      <section className=\"results-section\">\r\n        {filesProcessed && <ResultSectionContents results={results} />}\r\n      </section>\r\n    </CSSTransition>\r\n  );\r\n}\r\n\r\nexport default ResultSection;\r\n ","import React from \"react\";\r\n\r\nfunction LoadingIndicator(props) {\r\n  if (!props.loading)\r\n    return null;\r\n\r\n  return (\r\n      <div className=\"spinner-container\">\r\n        <div className=\"spinner\"></div>\r\n      </div>\r\n  );\r\n}\r\n\r\nexport default LoadingIndicator;\r\n","const urlPrefix = 'https://xugc5ib648.execute-api.eu-west-1.amazonaws.com/Prod/';\r\nconst fileTypeDetectionUrl = urlPrefix + 'api/FileTypeDetection';\r\n\r\nconst getFileType = (apiKey, file) => {\r\n    var data = new FormData();\r\n    \r\n    data.append(\"file\", file);\r\n\r\n    console.log(file)\r\n    //return new Promise(() => {});\r\n    return fetch(fileTypeDetectionUrl, {\r\n      method: \"POST\",\r\n      body: data,\r\n      headers: {\r\n        \"x-api-key\": apiKey        \r\n      }\r\n    });\r\n}\r\n\r\nexport const engineApi = {\r\n  getFileType\r\n};\r\n","import { engineApi } from \"../shared/api/engineApi\";\r\nimport JSZip from \"jszip\";\r\nconst readZipAsync = (blob) => {\r\n    var zip = new JSZip();\r\n    return new Promise((resolve, reject) => {\r\n        zip.loadAsync(blob).then(loadedZip => {\r\n            const fileRefs = Object.values(loadedZip.files);\r\n            var zipFileReaders = [];\r\n            Array.from(fileRefs).forEach(async (zf) => {\r\n                if (!zf.dir) {\r\n                    zipFileReaders.push(zf.async(\"blob\").then(blob => {\r\n                        blob.name = zf.name;\r\n                        return blob;\r\n                    }));\r\n                }\r\n            });\r\n            Promise.all(zipFileReaders).then(resolve, reject);\r\n        }, reject);\r\n    })\r\n}\r\n\r\nconst zipHelper = {\r\n    readZipAsync\r\n};\r\n\r\nvar handleDrop = (files, props, setResults, setFilesProcessed, setLoading) => {\r\n        setLoading(true);\r\n        setFilesProcessed(false);\r\n        setResults([]);\r\n\r\n        var zipUnpackingTasks = [];\r\n        var fileTypeDetectionCalls = [];\r\n        var getFileTypeAsync = (file, extension) => \r\n        {\r\n          return new Promise((resolve) => {\r\n            var result = { \r\n                fileName: file.name,\r\n                fileExtension: extension,\r\n                fileType: \"Unknown\",\r\n                fileSize: 0\r\n              };\r\n\r\n            var handleBlob = async () => {\r\n                try {\r\n                    const response = await engineApi.getFileType(props.apiKey, file);\r\n                    const json = await responseToJson(response);\r\n                    getResultFromDeserialised(json, file);\r\n                }\r\n                catch (error) {\r\n                    console.log(error);\r\n                }\r\n\r\n                resolve(result);\r\n            };\r\n\r\n            var responseToJson = response => {\r\n                if (response.status !== 200) {\r\n                    console.log(response);\r\n                    return { fileType: \"Error\", fileSize: 0, status: response.status };\r\n                }\r\n\r\n                return response.json();\r\n            };\r\n\r\n            var getResultFromDeserialised = (deserialised) => {\r\n                result.fileType = deserialised.fileType.toLowerCase();\r\n                result.fileSize = deserialised.fileSize;  \r\n                return deserialised;\r\n            };\r\n\r\n            handleBlob();\r\n        });\r\n      }\r\n\r\n        Array.from(files).forEach(file => {\r\n            var extension = file.name.split(\".\").pop().toLowerCase();\r\n\r\n            if (extension === \"zip\") {\r\n                var zipHandleTask = zipHelper.readZipAsync(file).then((zippedFiles) => {\r\n                    zippedFiles.forEach(zf => {\r\n                      extension = zf.name.split(\".\").pop().toLowerCase();\r\n                      zf.name = \"[\" + file.name + \"] -> \" + zf.name;\r\n                      fileTypeDetectionCalls.push(getFileTypeAsync(zf, extension));\r\n                    });\r\n                }, error => {\r\n                  console.log(error);\r\n                  fileTypeDetectionCalls.push(getFileTypeAsync(file, extension));\r\n\r\n                });\r\n                zipUnpackingTasks.push(zipHandleTask);\r\n            }\r\n            else {\r\n                fileTypeDetectionCalls.push(getFileTypeAsync(file, extension));\r\n            }\r\n        });\r\n\r\n        Promise.all(zipUnpackingTasks).then((zt) => {\r\n          Promise.all(fileTypeDetectionCalls).then(responses => {\r\n            setResults(responses);\r\n            setFilesProcessed(true);\r\n            setLoading(false);\r\n          });\r\n        }, error => {\r\n          console.log(error);\r\n        });\r\n    };\r\n\r\nexport const FileDropService = {\r\n    handleDrop\r\n}","import React, { useState } from \"react\";\r\nimport \"../../../App.css\";\r\n\r\nimport DragAndDropTitle from \"./DragAndDropTitle\";\r\nimport DragAndDropContainer from \"./DropArea/DragAndDropContainer\";\r\nimport ResultSection from \"./ResultSection/ResultSection\";\r\nimport LoadingIndicator from \"../../shared/LoadingIndicator\";\r\nimport { FileDropService } from \"../../Helpers/FileDropEventHandler\"\r\n\r\nfunction DropAndDropBody(props) {\r\n    var [results, setResults] = useState(null);\r\n    var [filesProcessed, setFilesProcessed] = useState(false);\r\n    var [loading, setLoading] = useState(false);\r\n\r\n    return (\r\n        <div className=\"app filedrop\">\r\n          <div className=\"app-body\">\r\n            <DragAndDropTitle />\r\n            <DragAndDropContainer handleDrop={(files) => FileDropService.handleDrop(files, props, setResults, setFilesProcessed, setLoading)}>\r\n                <div className=\"loading-container\">\r\n                    <LoadingIndicator key={6} loading={loading} />\r\n                </div>\r\n            </DragAndDropContainer>\r\n            <ResultSection results={results} filesProcessed={filesProcessed}/>\r\n          </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default DropAndDropBody;","import React, { useState } from \"react\";\r\nimport \"../../App.css\";\r\nimport TopBar from \"./Header/DropTopBar\";\r\nimport Body from \"./Body/DropAndDropBody\";\r\n\r\nconst PublicKey = \"v1j1jXSdPo8Z7iRW4H34va89ho9mt6KV5y9zezVn\";\r\n\r\nfunction DropApp() {\r\n  var [apiKey, setApiKey] = useState(\"\");\r\n  var [usePublicKey, setUsePublicKey] = useState(true);\r\n\r\n    return (\r\n      <>\r\n        <TopBar \r\n          apiKey={apiKey}\r\n          setApiKey={setApiKey} \r\n          usePublicKey={usePublicKey}\r\n          setUsePublicKey={setUsePublicKey}\r\n        />\r\n        <Body apiKey={usePublicKey ? PublicKey : apiKey}/>\r\n      </>\r\n  );\r\n}\r\n\r\nexport default DropApp;\r\n","import React, { useEffect } from \"react\";\r\nimport yam from \"../shared/api/api.yaml\"; \r\nimport SwaggerUI from \"swagger-ui-react\"\r\nimport \"swagger-ui-react/swagger-ui.css\"\r\nimport TopBar from \"../shared/TopBar.js\";\r\n\r\nvar FileTypeDetectionSwag = () => {\r\n    useEffect(() => {\r\n\t\tvar interval = setInterval(function() {\r\n            var button = document.querySelector(\".try-out button\");\r\n\r\n            if (button !== null)\r\n            {\r\n                button.click();\t\t\r\n                clearInterval(interval)\r\n            }\r\n\t\t  }, 10);\t\t\r\n    });\r\n\r\n    return (\r\n        <>\r\n            <TopBar />\r\n            <SwaggerUI url={window.location.origin + yam} docExpansion=\"full\" defaultModelExpandDepth=\"1\"/>\r\n        </>);\r\n}\r\n\r\nexport default FileTypeDetectionSwag;","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\n\r\nimport \"./index.css\";\r\nimport Layout from \"./components/shared/Layout\";\r\nimport DropApp from \"./components/drop/DropApp\";\r\nimport FileTypeDetectionSwag from \"./components/swagger/fileTypeDetectionSwag\";\r\n\r\nimport {\r\n    HashRouter as Router,\r\n    Route,\r\n    Switch\r\n} from \"react-router-dom\";\r\n\r\nvar Root = () => {\r\n  return (\r\n  <Router basename='/'>\r\n    <Switch>\r\n    <Route path=\"/drop\"><DropApp /></Route>\r\n    <Route><FileTypeDetectionSwag /></Route>\r\n    </Switch>\r\n  </Router>);\r\n}\r\n\r\nReactDOM.render(<Root />, document.getElementById(\"root\"));\r\n"],"sourceRoot":""}